import { Grid, Exhibit } from "@timvir/blocks";
import { Sample } from "@timvir/macro";

# Image

The `<Image>` component is used to display images inside stories.

## DOM

The DOM tree looks roughly as follows:

```html
<div>
  <figure>
    <img />
  </figure>

  <figcaption />
</div>
```

## Layout

By default the image is displayed in its intrinsic aspect ratio. It's also possible
to make it fill the available space (~ `object-fit: cover`).

<Grid style={{ margin: "20px 0" }}>
  <Exhibit caption="Image in its intrinsic aspect ratio">
    <Sample variant="basic" caption={undefined} />
  </Exhibit>
  <Exhibit caption="Image fills available area (height: 200px)">
    <div style={{ display: 'grid', height: 200 }}>
      <Sample variant="basic" caption={undefined} layout="fill" />
    </div>
  </Exhibit>
</Grid>

## Placeholder

As long as the image is not loaded yet, a placeholder image (generted by [SQIP]) is shown
in its place. Once the image is loaded, the placeholder image is faded away.

<Grid style={{ margin: "20px 0" }}>
  <Exhibit caption="Placeholder showing while image is loading.">
    <div style={{ display: 'grid', height: 200 }}>
      <Sample variant="placeholder" layout="fill" />
    </div>
  </Exhibit>
  <Exhibit caption="After image is loaded.">
    <div style={{ display: 'grid', height: 200 }}>
      <Sample variant="basic" caption={undefined} layout="fill" />
    </div>
  </Exhibit>
</Grid>

## Caption

The caption is shown either below the image (layout=intrinsic) or in an overlay (layout=fill).

<Grid style={{ margin: "20px 0" }}>
  <Exhibit caption="Caption below the image">
    <Sample variant="basic" />
  </Exhibit>
  <Exhibit caption="Caption shown in overlay on hover">
    <div style={{ display: 'grid', height: 200 }}>
      <Sample variant="basic" layout="fill" />
    </div>
  </Exhibit>
  
</Grid>

[SQIP]: https://github.com/axe312ger/sqip
