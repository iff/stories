import { Grid, Exhibit } from "@timvir/blocks";
import { Sample } from "@timvir/macro";

# Image

The `<Image>` component is used to display images inside stories.

## DOM

It is a block element. The DOM tree looks roughly as follows:

```html
<div>
  <figure>
    <img />
  </figure>

  <figcaption />
</div>
```

## Sizing

By default the image is displayed in its intrinsic aspect ratio. It's also possible
to make it fill the available space (~ `object-fit: cover`).

<Grid style={{ margin: "20px 0" }}>
  <Exhibit caption="Image in its intrinsic aspect ratio">
    <Sample variant="basic" caption={undefined} />
  </Exhibit>
  <Exhibit caption="Image fills available area (height: 200px)">
    <div style={{ display: 'grid', height: 200 }}>
      <Sample variant="basic" caption={undefined} layout="fill" objectFit="cover" />
    </div>
  </Exhibit>
</Grid>

## Placeholder

As long as the image is not loaded yet, a placeholder image (generted by [SQIP]) is shown
in its place. Once the image is loaded, the placeholder image is faded away.

The layout options are:

 - **full**: all the way to the edge of the viewport
 - **extended**: slighty wider than the text column
 - **regular**: same width as the text column
 - **narrow**: narrower than the text column

The height of the image is always as determined by the image aspect ratio.

## Caption

The caption can be shown either below the image (default), or in an overlay
on hover. The later is used when the image is placed in a `<Group>`.

<Grid style={{ margin: "20px 0" }}>
  <Exhibit caption="Caption below the image">
    <Sample variant="basic" />
  </Exhibit>
  <Exhibit caption="Caption shown in overlay on hover">
    <Sample variant="basic" captionStyle="overlay" />
  </Exhibit>
</Grid>

[SQIP]: https://github.com/axe312ger/sqip
